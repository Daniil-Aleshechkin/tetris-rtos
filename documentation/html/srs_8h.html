<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tetris-RTOS: lib/tetris/srs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tetris-RTOS
   </div>
   <div id="projectbrief">A simple version of modern Tetris powered by FreeRTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_0667ee73c017938e43d26722234ab62d.html">tetris</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">srs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the Super Rotation System (SRS) offsets and provides functions for Tetris piece rotations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stdint.h&quot;</code><br />
<code>#include &quot;<a class="el" href="TETRIS__ENUMS_8h_source.html">TETRIS_ENUMS.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for srs.h:</div>
<div class="dyncontent">
<div class="center"><img src="srs_8h__incl.png" border="0" usemap="#alib_2tetris_2srs_8h" alt=""/></div>
</div>
</div>
<p><a href="srs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSRSOffest.html">SRSOffest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an offset for piece rotation.  <a href="structSRSOffest.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a46f105cf6d1eaf9618c37871728b3310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSRSOffest.html">SRSOffest</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#a46f105cf6d1eaf9618c37871728b3310">getSRSOffsetsFromTypeAndRotation</a> (<a class="el" href="TETRIS__ENUMS_8h.html#a12ed9719bbdf7bc596ff7a6f4bf3f021">PieceType</a> type, <a class="el" href="TETRIS__ENUMS_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> currentRotation, <a class="el" href="TETRIS__ENUMS_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> rotation, int *offsetAmount)</td></tr>
<tr class="memdesc:a46f105cf6d1eaf9618c37871728b3310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves SRS offsets based on piece type and rotation with priority consideration.  <a href="srs_8h.html#a46f105cf6d1eaf9618c37871728b3310">More...</a><br /></td></tr>
<tr class="separator:a46f105cf6d1eaf9618c37871728b3310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1d95c89fe9954946c258d8d0e8eddd6e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSRSOffest.html">SRSOffest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#a1d95c89fe9954946c258d8d0e8eddd6e">offsets180</a> [4][6]</td></tr>
<tr class="memdesc:a1d95c89fe9954946c258d8d0e8eddd6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRS offsets for a 180-degree rotation with priority.  <a href="srs_8h.html#a1d95c89fe9954946c258d8d0e8eddd6e">More...</a><br /></td></tr>
<tr class="separator:a1d95c89fe9954946c258d8d0e8eddd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b31325db72364491d1862b55979b18"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSRSOffest.html">SRSOffest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#ac9b31325db72364491d1862b55979b18">offsets90</a> [4][5]</td></tr>
<tr class="memdesc:ac9b31325db72364491d1862b55979b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRS offsets for a 90-degree rotation with priority.  <a href="srs_8h.html#ac9b31325db72364491d1862b55979b18">More...</a><br /></td></tr>
<tr class="separator:ac9b31325db72364491d1862b55979b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07121f98ef798f19cd9612ee5b0cec2e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSRSOffest.html">SRSOffest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#a07121f98ef798f19cd9612ee5b0cec2e">offsets270</a> [4][5]</td></tr>
<tr class="memdesc:a07121f98ef798f19cd9612ee5b0cec2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRS offsets for a 270-degree rotation with priority.  <a href="srs_8h.html#a07121f98ef798f19cd9612ee5b0cec2e">More...</a><br /></td></tr>
<tr class="separator:a07121f98ef798f19cd9612ee5b0cec2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2cd74c65bbb2e01b3a49cb7aaef7d3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSRSOffest.html">SRSOffest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#a1b2cd74c65bbb2e01b3a49cb7aaef7d3">offsetsI90</a> [4][5]</td></tr>
<tr class="memdesc:a1b2cd74c65bbb2e01b3a49cb7aaef7d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRS offsets for the "I" piece for a 90-degree rotation with priority.  <a href="srs_8h.html#a1b2cd74c65bbb2e01b3a49cb7aaef7d3">More...</a><br /></td></tr>
<tr class="separator:a1b2cd74c65bbb2e01b3a49cb7aaef7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8eb51dca674c445b8847a827564918"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSRSOffest.html">SRSOffest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="srs_8h.html#a8d8eb51dca674c445b8847a827564918">offsetsI270</a> [4][5]</td></tr>
<tr class="memdesc:a8d8eb51dca674c445b8847a827564918"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRS offsets for the "I" piece for a 270-degree rotation with priority.  <a href="srs_8h.html#a8d8eb51dca674c445b8847a827564918">More...</a><br /></td></tr>
<tr class="separator:a8d8eb51dca674c445b8847a827564918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the Super Rotation System (SRS) offsets and provides functions for Tetris piece rotations. </p>
<p>This header file includes the definitions of the SRS offsets for rotating Tetris pieces according to the Super Rotation System (SRS). It contains arrays of offsets for each rotation state and functions to retrieve these offsets depending on the piece type and its current rotation. Each offset array corresponds to the priority with which each offset is applied during a rotation attempt. The system checks for each offset in order to find a valid piece placement (also known as a "kick"). The first offset that allows for a valid placement will be applied to perform the rotation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a46f105cf6d1eaf9618c37871728b3310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f105cf6d1eaf9618c37871728b3310">&#9670;&nbsp;</a></span>getSRSOffsetsFromTypeAndRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSRSOffest.html">SRSOffest</a>* getSRSOffsetsFromTypeAndRotation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="TETRIS__ENUMS_8h.html#a12ed9719bbdf7bc596ff7a6f4bf3f021">PieceType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TETRIS__ENUMS_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a>&#160;</td>
          <td class="paramname"><em>currentRotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TETRIS__ENUMS_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a>&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offsetAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves SRS offsets based on piece type and rotation with priority consideration. </p>
<p>Determines the appropriate SRS offsets to use when rotating a piece from its current orientation to a new orientation, based on the piece type, the intended rotation direction, and the priority of offset application. The first offset that allows for a valid placement (kick) will be applied to perform the rotation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the Tetris piece being rotated. </td></tr>
    <tr><td class="paramname">currentRotation</td><td>The current orientation of the piece. </td></tr>
    <tr><td class="paramname">rotation</td><td>The intended rotation direction. </td></tr>
    <tr><td class="paramname">offsetAmount</td><td>A pointer to an integer to store the number of offsets checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the SRSOffsets array of applicable offsets with priority. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1d95c89fe9954946c258d8d0e8eddd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d95c89fe9954946c258d8d0e8eddd6e">&#9670;&nbsp;</a></span>offsets180</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSRSOffest.html">SRSOffest</a> offsets180[4][6]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  {</div>
<div class="line">    {{0, 0}, {0, -1}, {1, -1}, {-1, -1}, {1, 0}, {-1, 0}},</div>
<div class="line">    {{0, 0}, {1, 0}, {1, -2}, {1,-1}, {0, -2}, {0, -1}},</div>
<div class="line">    {{0, 0}, {0, 1}, {-1, 1}, {1, 1}, {-1, 0}, {1, 0}},</div>
<div class="line">    {{0, 0}, {-1, 0}, {-1, -2}, {-1, -1}, {0, -2}, {0, -1}}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SRS offsets for a 180-degree rotation with priority. </p>
<p>Defines the offsets used for rotating a piece 180 degrees, ordered by the priority of their application. The system checks each offset for a valid piece placement, applying the first one that allows the piece to fit. </p>

</div>
</div>
<a id="a07121f98ef798f19cd9612ee5b0cec2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07121f98ef798f19cd9612ee5b0cec2e">&#9670;&nbsp;</a></span>offsets270</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSRSOffest.html">SRSOffest</a> offsets270[4][5]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {{0, 0},{1, 0},{1, -1},{0, 2},{1, 2}},</div>
<div class="line">    {{0, 0},{1, 0},{1, 1},{0, -2},{1, -2}},</div>
<div class="line">    {{0, 0},{-1, 0},{-1, -1},{0, 2},{-1, 2}},</div>
<div class="line">    {{0, 0},{-1, 0},{-1, 1},{0, -2},{-1, -2}}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SRS offsets for a 270-degree rotation with priority. </p>
<p>Defines the offsets used for rotating a piece 270 degrees clockwise (or 90 degrees counterclockwise), ordered by the priority of their application. The system checks each offset for a valid piece placement, applying the first one that allows the piece to fit. </p>

</div>
</div>
<a id="ac9b31325db72364491d1862b55979b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b31325db72364491d1862b55979b18">&#9670;&nbsp;</a></span>offsets90</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSRSOffest.html">SRSOffest</a> offsets90[4][5]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {{0, 0},{-1, 0},{-1, -1},{0, 2},{-1, 2}},</div>
<div class="line">    {{0, 0},{1, 0},{1, 1},{0, -2},{1, -2}},</div>
<div class="line">    {{0, 0},{1, 0},{1, -1},{0, 2},{1, 2}},</div>
<div class="line">    {{0, 0},{-1, 0},{-1, 1},{0, -2},{-1, -2}}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SRS offsets for a 90-degree rotation with priority. </p>
<p>Defines the offsets used for rotating a piece 90 degrees clockwise, ordered by the priority of their application. The system checks each offset for a valid piece placement, applying the first one that allows the piece to fit. </p>

</div>
</div>
<a id="a8d8eb51dca674c445b8847a827564918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8eb51dca674c445b8847a827564918">&#9670;&nbsp;</a></span>offsetsI270</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSRSOffest.html">SRSOffest</a> offsetsI270[4][5]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {{0, 0},{-1, 0},{2, 0},{2, 1},{-1, -2}},</div>
<div class="line">    {{0, 0},{-1, 0},{2, 0},{-1, -2},{2, 1}},</div>
<div class="line">    {{0, 0},{-2, 0},{1, 0},{-2, -1},{1, 2}},</div>
<div class="line">    {{0, 0},{1, 0},{-2, 0},{1, -2},{-2, 1}}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SRS offsets for the "I" piece for a 270-degree rotation with priority. </p>
<p>Special offsets for the "I" piece when rotating it 270 degrees clockwise (or 90 degrees counterclockwise), ordered by the priority of their application. These account for its unique behavior in the SRS system, with each offset checked for a valid placement and the first valid one applied. </p>

</div>
</div>
<a id="a1b2cd74c65bbb2e01b3a49cb7aaef7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2cd74c65bbb2e01b3a49cb7aaef7d3">&#9670;&nbsp;</a></span>offsetsI90</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSRSOffest.html">SRSOffest</a> offsetsI90[4][5]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {{0, 0},{1, 0},{-2, 0},{-2, 1},{1, -2}},</div>
<div class="line">    {{0, 0},{-1, 0},{2, 0},{-1, -2},{2, 1}},</div>
<div class="line">    {{0, 0},{2, 0},{-1, 0},{2, -1},{-1, 2}},</div>
<div class="line">    {{0, 0},{1, 0},{-2, 0},{1, -2},{-2, -1}}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>SRS offsets for the "I" piece for a 90-degree rotation with priority. </p>
<p>Special offsets for the "I" piece when rotating it 90 degrees clockwise, ordered by the priority of their application. These account for its unique behavior in the SRS system, with each offset checked for a valid placement and the first valid one applied. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
